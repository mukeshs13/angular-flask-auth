<div class="container mt-3">
  <h2>Hello, {{ username }}</h2>

  <!-- Add New Item Section -->
  <h3>Add New Item</h3>
  <input type="text" [(ngModel)]="newItem.name" placeholder="Name" class="form-control mb-2" />
  <input type="text" [(ngModel)]="newItem.description" placeholder="Description" class="form-control mb-2" />
  <button (click)="addItem()" class="btn btn-success">Add Item</button>

  <!-- Edit Item Section -->
  <h3 class="mt-3">Edit Item</h3>
  <input type="text" [(ngModel)]="editedItem.name" placeholder="New Name" class="form-control mb-2" />
  <input type="text" [(ngModel)]="editedItem.description" placeholder="New Description" class="form-control mb-2" />
  <button (click)="updateItem()" class="btn btn-warning">Update Item</button>

  <!-- Items List -->
  <h3 class="mt-3">Items</h3>

  <!-- Show message when no items are available -->
  <div *ngIf="items.length === 0; else itemList">
    <p>No items available.</p>
  </div>

  <!-- Template for displaying items -->
  <ng-template #itemList>
    <ul class="list-group">
      <li *ngFor="let item of items; let i = index" class="list-group-item d-flex justify-content-between align-items-center">
        {{ item.name }} - {{ item.description }}
        <div>
          <button (click)="editItem(item, i)" class="btn btn-success btn-sm me-2">Edit</button>  <!-- ✅ Fix: Pass 'i' -->
          <button (click)="deleteItem(i)" class="btn btn-danger btn-sm">Delete</button>  <!-- ✅ Fix: Pass 'i' -->
        </div>
      </li>
    </ul>
  </ng-template>
</div>
